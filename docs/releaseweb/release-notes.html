<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>2.3.1 Release Notes</title>
<link rel="stylesheet" href="styles/pos.css" type="text/css">
<link rel="stylesheet" href="styles/styles.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.70.0">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div id="frame">
<div class="article" lang="en">
<div class="titlepage">
<div><div><h1 class="title">
<a name="id1967504"></a>2.3.1 Release Notes</h1></div></div>
<hr>
</div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="sect1"><a href="#overview">1. Overview</a></span></dt>
<dt><span class="sect1"><a href="#migration">2. Migration</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="#migration-db">2.1. Database Conversion</a></span></dt>
<dt><span class="sect2"><a href="#migration-skin">2.2. Skin Update</a></span></dt>
<dt><span class="sect2"><a href="#migration-config">2.3. Configuration changes</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="#new">3. What's New</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="#new-promote">3.1. Tool Promotions</a></span></dt>
<dt><span class="sect2"><a href="#new-tool-enhance">3.2. Tool Enhancements</a></span></dt>
<dt><span class="sect2"><a href="#new-other-enhance">3.3. Other Enhancements</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="#resolved">4. Fixes Included in this Release</a></span></dt>
<dt><span class="sect1"><a href="#open-issues">5. Open Issues</a></span></dt>
<dt><span class="sect1"><a href="#maintenance">6. Maintenance Branch</a></span></dt>
</dl>
</div>

    <div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="overview"></a>1.&nbsp;Overview</h2></div></div></div>

        <div class="informaltable">
            <table border="1">
<colgroup><col></colgroup>
<tbody><tr><td>
                            <p><span class="emphasis"><em>Security Update:</em></span> 2.3.1 adds critical
                                security and performance fixes to the 2.3.0 release, and should therefore
                                be taken to simply supersede 2.3.0. Anyone running an unpatched 2.3.0
                                should upgrade to 2.3.1 immediately. Unpatched systems could
                                allow a user to view all attachments on the system
                                through the browser (<a href="http://bugs.sakaiproject.org/jira/browse/SAK-7288" target="_top">SAK-7288</a>) as well as alter or delete them through a WebDAV client (<a href="http://bugs.sakaiproject.org/jira/browse/SAK-7672" target="_top">SAK-7672</a>).</p>
                        </td></tr></tbody>
</table>
        </div>
        <p>The Sakai 2.3 series as a whole presents more in the way of feature enhancements and less in the way of
            API changes than 2.2. Three new provisional tools have been added, while two very successful
            provisional tools have been promoted to the enterprise bundle (for details see below).
            Several existing tools have seen significant enhancements, along with general
            improvements for the portal and configuration options in
            <code class="filename">sakai.properties</code>.</p>
        <p>These release notes highlight salient enhancements and required migration steps, while links to complete lists of fixed and open issues specific to 2.3.1 are available below.</p>
    </div>
    <div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="migration"></a>2.&nbsp;Migration</h2></div></div></div>

        <div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="migration-db"></a>2.1.&nbsp;Database Conversion</h3></div></div></div>

            <p>A DB conversion script is required for a database migration from 2.2.1 to 2.3.1
                (there were no DB schema changes introduced in 2.2.2 or 2.2.3). There is also a
                conversion script for a move from 2.3.0 to 2.3.1, for those who may be already
                running 2.3.0, but the 2.3.0 release should be bypassed altogether by those who are
                upgrading from a 2.2 release.</p>

            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>

                <p>DB conversions require the successive application of all intermediate scripts,
                    e.g., a migration from 2.2.0 will require two conversions: one from 2.2.0 to
                    2.2.1, and one from 2.2.1 to 2.3.1 (again, there were no DB schema changes
                    introduced in 2.2.2 and 2.2.3, and while there is a conversion script for a 2.3.0 to 2.3.1 conversion for those who may have already migrated to 2.3.0, the 2.2.1-2.3.0 conversion had a significant gradebook error, and is no longer made available).  The 2.3.0 release has been superseded, and is no longer even a waystation in the database conversion process.</p>
            </div>

            <p>The conversion scripts to be applied - in distinct versions for MySQL and Oracle,
                respectively - are found in the <code class="filename">reference/docs/conversion</code>
                folder of the release or on subversion: <a href="https://source.sakaiproject.org/svn/reference/tags/sakai_2-3-1/docs/conversion" target="_top">https://source.sakaiproject.org/svn/reference/tags/sakai_2-3-1/docs/conversion</a></p>
        </div>
        <div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="migration-skin"></a>2.2.&nbsp;Skin Update</h3></div></div></div>

            <p>Portal changes (see below) have reduced the number of frames that Sakai uses, and
                2.2 skins will need to be adapted as a result. The changes are however few in
                number, and they are described in Appendix I of: <a href="https://source.sakaiproject.org/svn/reference/tags/sakai_2-3-1/docs/architecture/sakai_skin.doc" target="_top">https://source.sakaiproject.org/svn/reference/tags/sakai_2-3-1/docs/architecture/sakai_skin.doc</a></p>
        </div>
        <div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="migration-config"></a>2.3.&nbsp;Configuration changes</h3></div></div></div>

            <p>Among the enhancements of 2.3 are improved configuration options. The <code class="filename">sakai.properties</code> settings
                below are new and optional.</p>
            <div class="itemizedlist"><ul>
<li>
                    <p>For disabling new Resources features
                        </p>
<pre class="screen">
# set to false to disable the release/retract and hiding of resources in ContentHostingService
# if this setting is left out of sakai.properties, the availability features should be enabled
# by default
availabilityChecksEnabled@org.sakaiproject.content.api.ContentHostingService = true

# set to false to disable custom sorts within folders in ContentHostingService
# if this setting is left out of sakai.properties, the priority sorts should be
# enabled by default
prioritySortEnabled@org.sakaiproject.content.api.ContentHostingService = true</pre>
<p>
                    </p>
                </li>
<li>
                    <p>For configuring threaded view for Message Center
                        </p>
<pre class="screen">mc.threadedview=true</pre>
                </li>
<li>
                    <p>For handling tool stealthing in a more flexible way (these settings
                        override default stealthing).
                        </p>
<pre class="screen">
visibleTools@org.sakaiproject.tool.api.ActiveToolManager=
hiddenTools@org.sakaiproject.tool.api.ActiveToolManager=</pre>
<p>
                    </p>
                </li>
<li>
                    <p>For switching off the saving of tool state
                        </p>
<pre class="screen">portal.experimental.auto.reset=true</pre>
                </li>
</ul></div>
        </div>
    </div>
    <div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="new"></a>3.&nbsp;What's New</h2></div></div></div>

        <p>For a more complete treatment of all available tools, see the <a href="http://bugs.sakaiproject.org/confluence/display/DOC/2.3+Sakai+Tools" target="_top">Sakai
                Tools</a> page.</p>
        <div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="new-promote"></a>3.1.&nbsp;Tool Promotions</h3></div></div></div>

            <div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="new-promote-bundle"></a>3.1.1.&nbsp;New Enterprise Bundle Tools</h4></div></div></div>

                <div class="itemizedlist"><ul>
<li>
                        <p>Rwiki</p>
                    </li>
<li>
                        <p>Calendar Summary</p>
                    </li>
</ul></div>

            </div>
            <div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="new-promote-provisional"></a>3.1.2.&nbsp;New Provisional Tools</h4></div></div></div>

                <div class="itemizedlist"><ul>
<li>
                        <p><span class="emphasis"><em>Blog</em></span>: for collaborative blogging among members of
                            a particular site.</p>
                    </li>
<li>
                        <p><span class="emphasis"><em>Linktool</em></span>: for calling external applications in
                            Sakai (e.g. those written in PHP).</p>
                    </li>
<li>
                        <p><span class="emphasis"><em>Podcasts</em></span>: a podcasting tool which takes advantage
                            of the Resources tool for storage, but displays podcasts in a user
                            friendly way and provides an RSS feed for access through one's favorite
                            podcatcher.</p>
                    </li>
</ul></div>
            </div>
        </div>
        <div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="new-tool-enhance"></a>3.2.&nbsp;Tool Enhancements</h3></div></div></div>

            <div class="itemizedlist"><ul>
<li>
                    <p><span class="emphasis"><em>Assignments</em></span>: ability to link to previously-created
                        gradebook items.</p>
                </li>
<li>
                    <p><span class="emphasis"><em>Gradebook</em></span>: now includes <a href="http://bugs.sakaiproject.org/confluence/download/attachments/4676/GB_Selective_Release_Requirements.doc" target="_top">selective release</a> and <a href="http://bugs.sakaiproject.org/confluence/download/attachments/4676/GB_Upload_Import_Requirements.doc" target="_top">import</a></p>
                </li>
<li>
                    <p><span class="emphasis"><em>Message Center</em></span>: now includes the option of a threaded
                        view, configurable in sakai.properties (<a href="http://bugs.sakaiproject.org/jira/browse/SAK-4899" target="_top">http://bugs.sakaiproject.org/jira/browse/SAK-4899</a> - see section
                        2.3 above)</p>
                </li>
<li>
                    <p><span class="emphasis"><em>Resources</em></span>: now includes <a href="http://bugs.sakaiproject.org/confluence/display/RES/Timed+Release+of+Resources" target="_top">timed release</a> and <a href="http://bugs.sakaiproject.org/confluence/display/RES/Ability+to+customize+order+of+Resources" target="_top">custom ordering</a>.</p>
                </li>
<li>
                    <p><span class="emphasis"><em>Roster</em></span>: uses a new API to manage privacy.</p>
                </li>
<li>
                    <p><span class="emphasis"><em>RWiki</em></span>: now includes commenting and RSS notifications
                            (<a href="http://bugs.sakaiproject.org/jira/browse/SAK-4295" target="_top">http://bugs.sakaiproject.org/jira/browse/SAK-4295</a>) </p>
                </li>
<li>
                    <p><span class="emphasis"><em>Tests &amp; Quizzes (Samigo)</em></span>: (see the <a href="http://bugs.sakaiproject.org/confluence/display/SAM/2.3+Release+Notes" target="_top">Samigo release notes</a> for more complete details)</p>
                    <div class="itemizedlist"><ul>
<li>
                            <p>allowing instructors to attach any file to a question ( <a href="http://bugs.sakaiproject.org/jira/browse/SAK-4396" target="_top">http://bugs.sakaiproject.org/jira/browse/SAK-4396</a>)</p>
                        </li>
<li>
                            <p>bulk downloading of uploaded file answers ( <a href="http://bugs.sakaiproject.org/jira/browse/SAK-4396" target="_top">http://bugs.sakaiproject.org/jira/browse/SAK-4396</a>)</p>
                        </li>
<li>
                            <p>filtered views for grading ( <a href="http://bugs.sakaiproject.org/jira/browse/SAK-4573" target="_top">http://bugs.sakaiproject.org/jira/browse/SAK-4573</a>)</p>
                        </li>
<li>
                            <p>a pager/search box for grading ( <a href="http://bugs.sakaiproject.org/jira/browse/SAK-4402" target="_top">http://bugs.sakaiproject.org/jira/browse/SAK-4402</a>)</p>
                        </li>
<li>
                            <p>a new question type: numeric response ( <a href="http://bugs.sakaiproject.org/jira/browse/SAK-6325" target="_top">http://bugs.sakaiproject.org/jira/browse/SAK-6325</a>)</p>
                        </li>
<li>
                            <p>java.policy requirement for audio recording questions
                            removed</p>
                        </li>
</ul></div>
                </li>
</ul></div>
        </div>
        <div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="new-other-enhance"></a>3.3.&nbsp;Other Enhancements</h3></div></div></div>

            <div class="itemizedlist"><ul>
<li>
                    <p><span class="emphasis"><em>Accessibility</em></span>: Site navigation and tool titles are
                        now contained in the main document, which eliminates several iFrames and
                        makes navigation more seamless (see "CSS changes" below for more detail).
                        Repaired problem with Help opening on tab. Accesskeys revised to reflect UK
                        eCommerce standards.</p>
                </li>
<li>
                    <p><span class="emphasis"><em>CSS Changes</em></span>: mostly to make possible the rendering of
                        site navigation and tool title content. How these 2 things get displayed is
                        now radically different - they will look the same mostly, but they will now
                        behave decently. Things like really testing for 800X600 resolution, ungodly
                        long site titles, etc. are now possible.</p>
                </li>
<li>
                    <p><span class="emphasis"><em>Portal</em></span>: </p>
<div class="itemizedlist"><ul>
<li>
                                <p>Left-hand buttons are now permissions-based ( <a href="http://bugs.sakaiproject.org/jira/browse/SAK-4120" target="_top">http://bugs.sakaiproject.org/jira/browse/SAK-4120</a>).
                                    Each tool in its registration file indicates the Sakai functions
                                    which are needed for the execution of the respective tool. For
                                    example, the Presentation tool is completely non-functional
                                    without content.read so the following line is added to the tool
                                    registration:</p>
                                <pre class="screen">&lt;configuration name="functions.require" value="content.read" /&gt;</pre>
                                <p>You can specify more than one security function using commas.
                                    The implication is "AND" so if two functions are specfied the
                                    user must have both permissions.</p>
                            </li>
<li>
                                <p>Added a capability to deep link URLs through Charon into tools
                                    - this is still under some debate so folks should use caution
                                    when trying to use this...it might change.</p>
                            </li>
</ul></div>
                </li>
<li>
                    <p><span class="emphasis"><em>Course Management API</em></span>: The API is in - Josh
                        (jholtzman@berkeley.edu) has providers and Quartz Jobs that you can use if
                        you prefer to integrate your SIS data using the CM approach.</p>
                </li>
<li>
                    <p><span class="emphasis"><em>Basic Auth</em></span>: Initially inspired by Rwiki RSS
                        requirements, but it can be used with any portal or access servlet URL (
                            <a href="http://bugs.sakaiproject.org/jira/browse/SAK-4295" target="_top">http://bugs.sakaiproject.org/jira/browse/SAK-4295</a>).</p>
                </li>
<li>
                    <p><span class="emphasis"><em>Refactored Import</em></span>: includes limited support for
                        importing packages formatted according to our current understanding of the
                        IMS Common Cartridge specification (which is however still in
                    development).</p>
                </li>
<li>
                    <p>
                        <span class="emphasis"><em>Partial Swedish translation</em></span>
                    </p>
                </li>
</ul></div>
        </div>
    </div>

    <div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="resolved"></a>4.&nbsp;Fixes Included in this Release</h2></div></div></div>

        <p>Sakai 2.3.1 fixes the following issues:</p>
        <p>
            <a href="fixed-issues.html" target="_top">
                http://source.sakaiproject.org/release/2.3.1/fixed-issues.html</a>
        </p>
    </div>
    <div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="open-issues"></a>5.&nbsp;Open Issues</h2></div></div></div>

        <p>The list of known issues with Sakai 2.3.1 is found at:</p>
        <p>
            <a href="open-issues.html" target="_top">
                http://source.sakaiproject.org/release/2.3.1/open-issues.html</a>
        </p>
    </div>
    <div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="maintenance"></a>6.&nbsp;Maintenance Branch</h2></div></div></div>

        <p>The code of each release has a corresponding maintenance branch, which is patched with
            fixes in an ongoing way by a branch manager - effectively until there is no longer
            sufficient interest in it for a branch manager to volunteer. Maintenance branches
            therefore represent the latest snapshot of fixes for any given Sakai version.</p>
        <p>These maintenance branches may be checked out through subversion; they are labeled
            with an 'x' replacing their minor version number, e.g. '2-3-x'. You can check out the
            2.3 maintenance branch with the following command: </p>
        <p>
            <span><strong class="command">svn co
            https://source.sakaiproject.org/svn/sakai/branches/sakai_2-3-x/</strong></span>
        </p>
        <p>If you come upon an important fix that you believe should be included in the branch
            (and perhaps isn't yet), feel free to bring it to the attention of the branch manager,
            Lance Speelmon (lance@indiana.edu).</p>
    </div>
</div>
<br clear="all"/></div>
</body>
</html>

