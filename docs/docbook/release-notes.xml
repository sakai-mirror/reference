<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="http://docbook.org/xml/5.0b5/rng/docbook.rng" type="xml"?>
<article xmlns="http://docbook.org/ns/docbook" xml:lang="en" xmlns:xl="http://www.w3.org/1999/xlink"
    version="5.0">
    <info>
        <title>2.3.1 Release Notes</title>
        <edition>23 January 2007 - version 2.3.1</edition>
    </info>
    <sect1 xml:id="overview">
        <title>Overview</title>
        <informaltable>
            <tgroup cols="1">
                <tbody>
                    <row>
                        <entry>
                            <para><emphasis>Security Update:</emphasis> 2.3.1 adds critical
                                security and performance fixes to the 2.3.0 release, and should therefore
                                be taken to simply supersede 2.3.0. Anyone running an unpatched 2.3.0
                                should upgrade to 2.3.1 immediately. Unpatched systems could
                                allow a user to view all attachments on the system
                                through the browser (<link xl:href="http://bugs.sakaiproject.org/jira/browse/SAK-7288">SAK-7288</link>) as well as alter or delete them through a WebDAV client (<link xl:href="http://bugs.sakaiproject.org/jira/browse/SAK-7672">SAK-7672</link>).</para>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </informaltable>
        <para>The Sakai 2.3 series as a whole presents more in the way of feature enhancements and less in the way of
            API changes than 2.2. Three new provisional tools have been added, while two very successful
            provisional tools have been promoted to the enterprise bundle (for details see below).
            Several existing tools have seen significant enhancements, along with general
            improvements for the portal and configuration options in
            <filename>sakai.properties</filename>.</para>
        <para>These release notes highlight salient enhancements and required migration steps, while links to complete lists of fixed and open issues specific to 2.3.1 are available below.</para>
    </sect1>
    <sect1 xml:id="migration">
        <title>Migration</title>
        <sect2 xml:id="migration-db">
            <title>Database Conversion</title>
            <para>A DB conversion script is required for a database migration from 2.2.1 to 2.3.1
                (there were no DB schema changes introduced in 2.2.2 or 2.2.3). There is also a
                conversion script for a move from 2.3.0 to 2.3.1, for those who may be already
                running 2.3.0, but the 2.3.0 release should be bypassed altogether by those who are
                upgrading from a 2.2 release.</para>

            <note>
                <title>Note</title>
                <para>DB conversions require the successive application of all intermediate scripts,
                    e.g., a migration from 2.2.0 will require two conversions: one from 2.2.0 to
                    2.2.1, and one from 2.2.1 to 2.3.1 (again, there were no DB schema changes
                    introduced in 2.2.2 and 2.2.3).</para>
            </note>

            <para>The conversion scripts to be applied - in distinct versions for MySQL and Oracle,
                respectively - are found in the <filename>reference/docs/conversion</filename>
                folder of the release or on subversion: <link
                    xl:href="https://source.sakaiproject.org/svn/reference/tags/sakai_2-3-1/docs/conversion"
                    >https://source.sakaiproject.org/svn/reference/tags/sakai_2-3-1/docs/conversion</link></para>
        </sect2>
        <sect2 xml:id="migration-skin">
            <title>Skin Update</title>
            <para>Portal changes (see below) have reduced the number of frames that Sakai uses, and
                2.2 skins will need to be adapted as a result. The changes are however few in
                number, and they are described in Appendix I of: <link
                    xl:href="https://source.sakaiproject.org/svn/reference/tags/sakai_2-3-1/docs/architecture/sakai_skin.doc"
                    >https://source.sakaiproject.org/svn/reference/tags/sakai_2-3-1/docs/architecture/sakai_skin.doc</link></para>
        </sect2>
        <sect2 xml:id="migration-config">
            <title>Configuration changes</title>
            <para>Among the enhancements of 2.3 are improved configuration options. The <filename>sakai.properties</filename> settings
                below are new and optional.</para>
            <itemizedlist>
                <listitem>
                    <para>For disabling new Resources features
                        <screen>
# set to false to disable the release/retract and hiding of resources in ContentHostingService
# if this setting is left out of sakai.properties, the availability features should be enabled
# by default
availabilityChecksEnabled@org.sakaiproject.content.api.ContentHostingService = true
                        
# set to false to disable custom sorts within folders in ContentHostingService 
# if this setting is left out of sakai.properties, the priority sorts should be 
# enabled by default
prioritySortEnabled@org.sakaiproject.content.api.ContentHostingService = true</screen>
                    </para>
                </listitem>
                <listitem>
                    <para>For configuring threaded view for Message Center
                        <screen>mc.threadedview=true</screen></para>
                </listitem>
                <listitem>
                    <para>For handling tool stealthing in a more flexible way (these settings
                        override default stealthing).
                        <screen>
visibleTools@org.sakaiproject.tool.api.ActiveToolManager=
hiddenTools@org.sakaiproject.tool.api.ActiveToolManager=</screen>
                    </para>
                </listitem>
                <listitem>
                    <para>For switching off the saving of tool state
                        <screen>portal.experimental.auto.reset=true</screen></para>
                </listitem>
            </itemizedlist>
        </sect2>
    </sect1>
    <sect1 xml:id="new">
        <title>What's New</title>
        <para>For a more complete treatment of all available tools, see the <link
                xl:href="http://bugs.sakaiproject.org/confluence/display/DOC/2.3+Sakai+Tools">Sakai
                Tools</link> page.</para>
        <sect2 xml:id="new-promote">
            <title>Tool Promotions</title>
            <sect3 xml:id="new-promote-bundle">
                <title>New Enterprise Bundle Tools</title>
                <itemizedlist>
                    <listitem>
                        <para>Rwiki</para>
                    </listitem>
                    <listitem>
                        <para>Calendar Summary</para>
                    </listitem>
                </itemizedlist>

            </sect3>
            <sect3 xml:id="new-promote-provisional">
                <title>New Provisional Tools</title>
                <itemizedlist>
                    <listitem>
                        <para><emphasis>Blog</emphasis>: for collaborative blogging among members of
                            a particular site.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis>Linktool</emphasis>: for calling external applications in
                            Sakai (e.g. those written in PHP).</para>
                    </listitem>
                    <listitem>
                        <para><emphasis>Podcasts</emphasis>: a podcasting tool which takes advantage
                            of the Resources tool for storage, but displays podcasts in a user
                            friendly way and provides an RSS feed for access through one's favorite
                            podcatcher.</para>
                    </listitem>
                </itemizedlist>
            </sect3>
        </sect2>
        <sect2 xml:id="new-tool-enhance">
            <title>Tool Enhancements</title>
            <itemizedlist>
                <listitem>
                    <para><emphasis>Assignments</emphasis>: ability to link to previously-created
                        gradebook items.</para>
                </listitem>
                <listitem>
                    <para><emphasis>Gradebook</emphasis>: now includes <link
                            xl:href="http://bugs.sakaiproject.org/confluence/download/attachments/4676/GB_Selective_Release_Requirements.doc"
                            >selective release</link> and <link
                            xl:href="http://bugs.sakaiproject.org/confluence/download/attachments/4676/GB_Upload_Import_Requirements.doc"
                            >import</link></para>
                </listitem>
                <listitem>
                    <para><emphasis>Message Center</emphasis>: now includes the option of a threaded
                        view, configurable in sakai.properties (<link
                            xl:href="http://bugs.sakaiproject.org/jira/browse/SAK-4899"
                            >http://bugs.sakaiproject.org/jira/browse/SAK-4899</link> - see section
                        2.3 above)</para>
                </listitem>
                <listitem>
                    <para><emphasis>Resources</emphasis>: now includes <link
                            xl:href="http://bugs.sakaiproject.org/confluence/display/RES/Timed+Release+of+Resources"
                            >timed release</link> and <link
                            xl:href="http://bugs.sakaiproject.org/confluence/display/RES/Ability+to+customize+order+of+Resources"
                            >custom ordering</link>.</para>
                </listitem>
                <listitem>
                    <para><emphasis>Roster</emphasis>: uses a new API to manage privacy.</para>
                </listitem>
                <listitem>
                    <para><emphasis>RWiki</emphasis>: now includes commenting and RSS notifications
                            (<link xl:href="http://bugs.sakaiproject.org/jira/browse/SAK-4295"
                            >http://bugs.sakaiproject.org/jira/browse/SAK-4295</link>) </para>
                </listitem>
                <listitem>
                    <para><emphasis>Tests &amp; Quizzes (Samigo)</emphasis>: (see the <link
                            xl:href="http://bugs.sakaiproject.org/confluence/display/SAM/2.3+Release+Notes"
                            >Samigo release notes</link> for more complete details)</para>
                    <itemizedlist>
                        <listitem>
                            <para>allowing instructors to attach any file to a question ( <link
                                    xl:href="http://bugs.sakaiproject.org/jira/browse/SAK-4396"
                                    >http://bugs.sakaiproject.org/jira/browse/SAK-4396</link>)</para>
                        </listitem>
                        <listitem>
                            <para>bulk downloading of uploaded file answers ( <link
                                    xl:href="http://bugs.sakaiproject.org/jira/browse/SAK-4396"
                                    >http://bugs.sakaiproject.org/jira/browse/SAK-4396</link>)</para>
                        </listitem>
                        <listitem>
                            <para>filtered views for grading ( <link
                                    xl:href="http://bugs.sakaiproject.org/jira/browse/SAK-4573"
                                    >http://bugs.sakaiproject.org/jira/browse/SAK-4573</link>)</para>
                        </listitem>
                        <listitem>
                            <para>a pager/search box for grading ( <link
                                    xl:href="http://bugs.sakaiproject.org/jira/browse/SAK-4402"
                                    >http://bugs.sakaiproject.org/jira/browse/SAK-4402</link>)</para>
                        </listitem>
                        <listitem>
                            <para>a new question type: numeric response ( <link
                                    xl:href="http://bugs.sakaiproject.org/jira/browse/SAK-6325"
                                    >http://bugs.sakaiproject.org/jira/browse/SAK-6325</link>)</para>
                        </listitem>
                        <listitem>
                            <para>java.policy requirement for audio recording questions
                            removed</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </itemizedlist>
        </sect2>
        <sect2 xml:id="new-other-enhance">
            <title>Other Enhancements</title>
            <itemizedlist>
                <listitem>
                    <para><emphasis>Accessibility</emphasis>: Site navigation and tool titles are
                        now contained in the main document, which eliminates several iFrames and
                        makes navigation more seamless (see "CSS changes" below for more detail).
                        Repaired problem with Help opening on tab. Accesskeys revised to reflect UK
                        eCommerce standards.</para>
                </listitem>
                <listitem>
                    <para><emphasis>CSS Changes</emphasis>: mostly to make possible the rendering of
                        site navigation and tool title content. How these 2 things get displayed is
                        now radically different - they will look the same mostly, but they will now
                        behave decently. Things like really testing for 800X600 resolution, ungodly
                        long site titles, etc. are now possible.</para>
                </listitem>
                <listitem>
                    <para><emphasis>Portal</emphasis>: <itemizedlist>
                            <listitem>
                                <para>Left-hand buttons are now permissions-based ( <link
                                        xl:href="http://bugs.sakaiproject.org/jira/browse/SAK-4120"
                                        >http://bugs.sakaiproject.org/jira/browse/SAK-4120</link>).
                                    Each tool in its registration file indicates the Sakai functions
                                    which are needed for the execution of the respective tool. For
                                    example, the Presentation tool is completely non-functional
                                    without content.read so the following line is added to the tool
                                    registration:</para>
                                <screen>&lt;configuration name="functions.require" value="content.read" /&gt;</screen>
                                <para>You can specify more than one security function using commas.
                                    The implication is "AND" so if two functions are specfied the
                                    user must have both permissions.</para>
                            </listitem>
                            <listitem>
                                <para>Added a capability to deep link URLs through Charon into tools
                                    - this is still under some debate so folks should use caution
                                    when trying to use this...it might change.</para>
                            </listitem>
                        </itemizedlist></para>
                </listitem>
                <listitem>
                    <para><emphasis>Course Management API</emphasis>: The API is in - Josh
                        (jholtzman@berkeley.edu) has providers and Quartz Jobs that you can use if
                        you prefer to integrate your SIS data using the CM approach.</para>
                </listitem>
                <listitem>
                    <para><emphasis>Basic Auth</emphasis>: Initially inspired by Rwiki RSS
                        requirements, but it can be used with any portal or access servlet URL (
                            <link xl:href="http://bugs.sakaiproject.org/jira/browse/SAK-4295"
                            >http://bugs.sakaiproject.org/jira/browse/SAK-4295</link>).</para>
                </listitem>
                <listitem>
                    <para><emphasis>Refactored Import</emphasis>: includes limited support for
                        importing packages formatted according to our current understanding of the
                        IMS Common Cartridge specification (which is however still in
                    development).</para>
                </listitem>
                <listitem>
                    <para>
                        <emphasis>Partial Swedish translation</emphasis>
                    </para>
                </listitem>
            </itemizedlist>
        </sect2>
    </sect1>

    <sect1 xml:id="resolved">
        <title>Fixes Included in this Release</title>
        <para>Sakai 2.3.1 fixes the following issues:</para>
        <para>
            <link xl:href="fixed-issues.html">
                http://source.sakaiproject.org/release/2.3.1/fixed-issues.html</link>
        </para>
    </sect1>
    <sect1 xml:id="open-issues">
        <title>Open Issues</title>
        <para>The list of known issues with Sakai 2.3.1 is found at:</para>
        <para>
            <link xl:href="open-issues.html">
                http://source.sakaiproject.org/release/2.3.1/open-issues.html</link>
        </para>
        <para>See in particular the "Important Issues" noted at the top of the list.</para>
    </sect1>
    <sect1 xml:id="maintenance">
        <title>Maintenance Branch</title>
        <para>The code of each release has a corresponding maintenance branch, which is patched with
            fixes in an ongoing way by a branch manager - effectively until there is no longer
            sufficient interest in it for a branch manager to volunteer. Maintenance branches
            therefore represent the latest snapshot of fixes for any given Sakai version.</para>
        <para>These maintenance branches may be checked out through subversion; they are labeled
            with an 'x' replacing their minor version number, e.g. '2-3-x'. You can check out the
            2.3 maintenance branch with the following command: </para>
        <para>
            <command>svn co
            https://source.sakaiproject.org/svn/sakai/branches/sakai_2-3-x/</command>
        </para>
        <para>If you come upon an important fix that you believe should be included in the branch
            (and perhaps isn't yet), feel free to bring it to the attention of the branch manager,
            Lance Speelmon (lance@indiana.edu).</para>
    </sect1>
</article>
